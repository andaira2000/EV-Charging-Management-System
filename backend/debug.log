INFO 2024-12-29 21:30:10,380 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:30:25,786 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:30:26,194 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:30:34,427 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 21:32:03,274 stripe_views Received event: payment_intent.succeeded
INFO 2024-12-29 21:32:03,275 basehttp "POST /stripe-webhook/ HTTP/1.1" 200 21
INFO 2024-12-29 21:32:29,932 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:32:30,501 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:32:57,510 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:32:57,908 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:33:04,263 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 21:33:24,546 stripe_views Received event: payment_intent.succeeded
ERROR 2024-12-29 21:33:25,045 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 117, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-29 21:33:25,047 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 93809
INFO 2024-12-29 21:33:42,281 stripe_views Received event: payment_intent.succeeded
ERROR 2024-12-29 21:33:42,815 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 117, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-29 21:33:42,816 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 93809
INFO 2024-12-29 21:34:32,038 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:32,610 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:34:37,856 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:38,142 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:34:41,735 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:42,174 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:34:43,780 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:44,177 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:34:46,311 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:46,637 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:34:48,148 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:34:48,549 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:23,538 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:24,000 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:27,593 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:28,000 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:38,665 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:39,146 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:40,682 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:41,088 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:45,650 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:46,068 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:35:55,822 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:35:56,353 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:36:05,040 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:36:05,491 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:36:09,667 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:36:09,956 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:36:12,108 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:36:12,425 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:36:24,827 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:36:25,145 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:36:39,870 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:36:40,254 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
ERROR 2024-12-29 21:36:45,514 log Internal Server Error: /create-checkout-session/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/generic/base.py", line 104, in view
    return self.dispatch(request, *args, **kwargs)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/rest_framework/views.py", line 509, in dispatch
    response = self.handle_exception(exc)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/rest_framework/views.py", line 469, in handle_exception
    self.raise_uncaught_exception(exc)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/rest_framework/views.py", line 480, in raise_uncaught_exception
    raise exc
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/rest_framework/views.py", line 506, in dispatch
    response = handler(request, *args, **kwargs)
  File "/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py", line 85, in inner
    return func(*args, **kwds)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 66, in post
    logger.info(f"Created reservation: {reservation.id}")
                                       ^^^^^^^^^^^^^
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/models.py", line 87, in __str__
    return f"Reservation by {self.user.email} at {self.charging_station.name} from {self.start_time} to {self.end_time}"
                                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ChargingStation' object has no attribute 'name'
ERROR 2024-12-29 21:36:45,518 basehttp "POST /create-checkout-session/ HTTP/1.1" 500 115369
INFO 2024-12-29 21:38:57,511 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/models.py changed, reloading.
INFO 2024-12-29 21:38:58,113 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:39:02,060 stripe_views Created reservation: 9
INFO 2024-12-29 21:39:02,744 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 21:39:36,843 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:39:37,411 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:40:03,895 stripe_views Received event: payment_intent.succeeded
INFO 2024-12-29 21:40:03,895 stripe_views Reservation ID: None
ERROR 2024-12-29 21:40:04,403 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 119, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-29 21:40:04,405 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 93828
INFO 2024-12-29 21:43:27,084 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:43:27,648 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:43:50,477 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:43:50,865 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:43:57,959 stripe_views Created reservation: 10
INFO 2024-12-29 21:43:58,564 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 21:44:14,842 stripe_views Received event: payment_intent.succeeded
INFO 2024-12-29 21:44:14,842 stripe_views Reservation ID: 10
INFO 2024-12-29 21:44:15,337 basehttp "POST /stripe-webhook/ HTTP/1.1" 200 21
INFO 2024-12-29 21:53:01,697 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:53:02,259 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:53:05,439 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:53:05,721 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:53:11,917 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:53:12,205 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:54:22,751 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myproject/settings.py changed, reloading.
INFO 2024-12-29 21:54:23,371 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:54:55,793 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myproject/__init__.py changed, reloading.
INFO 2024-12-29 21:54:56,479 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:55:36,162 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:55:36,738 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:55:39,959 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:55:40,268 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:55:51,046 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:55:51,511 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:56:03,272 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 21:56:03,716 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 21:59:08,164 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:59:08,586 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 21:59:14,997 stripe_views Created reservation: 11
INFO 2024-12-29 21:59:15,715 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:00:35,864 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:00:36,486 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:00:47,614 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:00:48,008 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:01:08,250 stripe_views Created reservation: 12
INFO 2024-12-29 22:01:08,914 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:02:04,250 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:02:04,661 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:02:10,176 stripe_views Created reservation: 13
INFO 2024-12-29 22:02:10,774 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:02:15,570 tasks Reservation with ID: 13 is still within the grace period.
INFO 2024-12-29 22:03:14,484 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:03:15,079 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:03:36,319 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:03:36,726 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:03:42,069 stripe_views Created reservation: 14
INFO 2024-12-29 22:03:42,748 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:03:47,524 tasks Deleted unpaid reservation with ID: 14
INFO 2024-12-29 22:06:00,653 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:06:01,275 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:06:06,545 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:06:06,864 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:06:22,406 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:06:22,708 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:06:34,574 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:06:35,051 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:06:39,666 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:06:40,120 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:06:49,083 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:06:49,455 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:07:28,605 stripe_views Created reservation: 15
WARNING 2024-12-29 22:07:29,102 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:07:29,103 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 126
INFO 2024-12-29 22:07:34,027 tasks Deleted unpaid reservation with ID: 15
INFO 2024-12-29 22:08:50,128 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:08:50,504 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:09:06,545 stripe_views Created reservation: 16
WARNING 2024-12-29 22:09:07,013 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:09:07,014 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 126
INFO 2024-12-29 22:09:11,950 tasks Deleted unpaid reservation with ID: 16
INFO 2024-12-29 22:09:40,636 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:09:41,048 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:10:00,055 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:10:00,658 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:10:16,847 stripe_views Created reservation: 17
INFO 2024-12-29 22:10:17,479 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:10:22,229 tasks Deleted unpaid reservation with ID: 17
INFO 2024-12-29 22:10:40,416 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:10:40,827 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:13:05,481 stripe_views Created reservation: 18
INFO 2024-12-29 22:13:06,084 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:13:10,877 tasks Deleted unpaid reservation with ID: 18
INFO 2024-12-29 22:14:43,880 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:14:44,272 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:15:11,609 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:15:12,306 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:15:15,549 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:15:15,839 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:15:21,016 stripe_views Created reservation: 19
INFO 2024-12-29 22:15:21,741 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:15:26,432 tasks Deleted unpaid reservation with ID: 19
INFO 2024-12-29 22:16:11,576 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:16:11,982 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:16:25,393 stripe_views Created reservation: 20
INFO 2024-12-29 22:16:26,035 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:16:30,791 tasks Deleted unpaid reservation with ID: 20
INFO 2024-12-29 22:20:20,759 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:20:21,392 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:20:48,665 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:20:49,232 autoreload Watching for file changes with StatReloader
WARNING 2024-12-29 22:21:36,149 log Forbidden: /charging-stations/all/
WARNING 2024-12-29 22:21:36,150 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2024-12-29 22:21:36,151 log Forbidden: /charging-stations/all/
WARNING 2024-12-29 22:21:36,151 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2024-12-29 22:21:38,612 log Forbidden: /charging-stations/all/
WARNING 2024-12-29 22:21:38,612 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2024-12-29 22:21:38,614 log Forbidden: /charging-stations/all/
WARNING 2024-12-29 22:21:38,614 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
INFO 2024-12-29 22:22:01,963 basehttp "POST /login/ HTTP/1.1" 200 1679
INFO 2024-12-29 22:22:03,738 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:22:04,166 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:22:37,119 stripe_views Created reservation: 21
INFO 2024-12-29 22:22:37,944 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:22:43,379 tasks Reservation with ID: 21 is still within the grace period.
INFO 2024-12-29 22:23:01,993 stripe_views Received event: checkout.session.completed
INFO 2024-12-29 22:23:01,994 basehttp "POST /stripe-webhook/ HTTP/1.1" 200 21
INFO 2024-12-29 22:23:10,618 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:23:11,060 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:23:39,667 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:23:40,285 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:23:45,972 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:23:46,415 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:23:59,657 stripe_views Created reservation: 22
INFO 2024-12-29 22:24:00,352 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:24:06,051 tasks Reservation with ID: 22 is still within the grace period.
INFO 2024-12-29 22:24:19,786 stripe_views Reservation ID: 22
INFO 2024-12-29 22:24:21,508 basehttp "POST /stripe-webhook/ HTTP/1.1" 200 21
INFO 2024-12-29 22:24:47,839 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:24:48,206 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:25:06,492 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:25:06,927 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
WARNING 2024-12-29 22:25:17,955 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:25:17,957 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 65
WARNING 2024-12-29 22:25:19,573 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:25:19,574 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 65
INFO 2024-12-29 22:25:30,909 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:25:31,320 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:25:32,156 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:25:32,543 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:27:13,659 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:27:14,283 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:27:42,526 stripe_views Created reservation: 23
INFO 2024-12-29 22:27:43,185 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
WARNING 2024-12-29 22:27:43,989 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:27:43,989 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 65
INFO 2024-12-29 22:27:49,510 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:27:49,925 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:27:59,552 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:27:59,940 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:29:22,038 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:29:22,665 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:29:25,829 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:29:26,136 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:29:29,789 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:29:30,253 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:29:41,610 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:29:41,912 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:29:46,523 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2024-12-29 22:29:46,989 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:30:01,903 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:30:02,375 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:30:10,993 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:30:11,466 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:30:14,935 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:30:15,376 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:30:25,005 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:30:25,437 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:30:59,926 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:31:00,374 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:31:41,067 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:31:41,637 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:31:47,234 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:31:47,660 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:31:55,324 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:31:55,775 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:31:57,253 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:31:57,680 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:32:02,221 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:32:02,661 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:32:12,436 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:32:12,917 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:32:16,487 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/tasks.py changed, reloading.
INFO 2024-12-29 22:32:16,911 autoreload Watching for file changes with StatReloader
INFO 2024-12-29 22:32:37,358 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:32:37,752 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6716
INFO 2024-12-29 22:32:56,533 stripe_views Created reservation: 24
INFO 2024-12-29 22:32:57,252 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
WARNING 2024-12-29 22:32:58,069 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:32:58,070 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 65
INFO 2024-12-29 22:33:02,364 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:33:02,784 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:33:15,465 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:33:15,871 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:41:00,313 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:41:00,721 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:41:18,260 stripe_views Created reservation: 25
INFO 2024-12-29 22:41:18,868 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:46:22,794 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:46:23,157 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:51:39,389 stripe_views Reservation ID: 25
INFO 2024-12-29 22:51:39,873 basehttp "POST /stripe-webhook/ HTTP/1.1" 200 21
INFO 2024-12-29 22:53:58,048 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:53:58,423 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:54:03,571 stripe_views Created reservation: 26
INFO 2024-12-29 22:54:04,242 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
INFO 2024-12-29 22:54:37,661 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:54:38,076 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
WARNING 2024-12-29 22:54:47,705 log Bad Request: /create-checkout-session/
WARNING 2024-12-29 22:54:47,706 basehttp "POST /create-checkout-session/ HTTP/1.1" 400 65
INFO 2024-12-29 22:56:17,464 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:56:17,891 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:56:37,865 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:56:38,222 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:57:42,941 tasks Reservation with ID: 23 already deleted or paid.
INFO 2024-12-29 22:57:49,758 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 22:57:50,166 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2024-12-29 23:02:56,979 tasks Reservation with ID: 24 already deleted or paid.
INFO 2024-12-29 23:11:18,661 tasks Reservation with ID: 25 already deleted or paid.
INFO 2024-12-29 23:28:47,080 tasks Deleted unpaid reservation with ID: 26
INFO 2024-12-30 12:50:25,145 stripe_views Reservation ID: None
ERROR 2024-12-30 12:50:25,658 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 126, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-30 12:50:25,661 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 100453
INFO 2024-12-30 12:51:20,543 stripe_views Reservation ID: None
ERROR 2024-12-30 12:51:21,054 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 126, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-30 12:51:21,055 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 100452
INFO 2024-12-30 12:53:17,040 stripe_views Reservation ID: None
ERROR 2024-12-30 12:53:17,521 log Internal Server Error: /stripe-webhook/
Traceback (most recent call last):
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/views/decorators/csrf.py", line 65, in _view_wrapper
    return view_func(request, *args, **kwargs)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py", line 126, in stripe_webhook
    reservation = Reservation.objects.select_for_update().get(id=reservation_id)
  File "/Users/catalin/Coding/EV-Charging-Management-System/backend/path/to/venv/lib/python3.13/site-packages/django/db/models/query.py", line 649, in get
    raise self.model.DoesNotExist(
        "%s matching query does not exist." % self.model._meta.object_name
    )
myapp.models.Reservation.DoesNotExist: Reservation matching query does not exist.
ERROR 2024-12-30 12:53:17,522 basehttp "POST /stripe-webhook/ HTTP/1.1" 500 100453
INFO 2025-01-01 15:28:34,895 basehttp "OPTIONS /charging-stations/all/ HTTP/1.1" 200 0
INFO 2025-01-01 15:28:34,897 basehttp "OPTIONS /charging-stations/all/ HTTP/1.1" 200 0
WARNING 2025-01-01 15:28:34,907 log Forbidden: /charging-stations/all/
WARNING 2025-01-01 15:28:34,907 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2025-01-01 15:28:34,912 log Forbidden: /charging-stations/all/
WARNING 2025-01-01 15:28:34,919 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2025-01-01 15:28:38,731 log Forbidden: /charging-stations/all/
WARNING 2025-01-01 15:28:38,731 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
WARNING 2025-01-01 15:28:38,733 log Forbidden: /charging-stations/all/
WARNING 2025-01-01 15:28:38,733 basehttp "GET /charging-stations/all/ HTTP/1.1" 403 35
INFO 2025-01-01 15:28:55,122 basehttp "OPTIONS /login/ HTTP/1.1" 200 0
INFO 2025-01-01 15:28:56,375 basehttp "POST /login/ HTTP/1.1" 200 1679
INFO 2025-01-01 15:28:58,142 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2025-01-01 15:28:58,558 basehttp "GET /charging-stations/all/ HTTP/1.1" 200 6718
INFO 2025-01-01 15:43:12,599 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2025-01-01 15:43:13,308 autoreload Watching for file changes with StatReloader
INFO 2025-01-01 15:43:17,526 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2025-01-01 15:43:17,857 autoreload Watching for file changes with StatReloader
INFO 2025-01-01 15:43:21,033 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2025-01-01 15:43:21,334 autoreload Watching for file changes with StatReloader
INFO 2025-01-01 15:43:23,481 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2025-01-01 15:43:23,834 autoreload Watching for file changes with StatReloader
INFO 2025-01-01 15:43:26,457 autoreload /Users/catalin/Coding/EV-Charging-Management-System/backend/myapp/views/stripe_views.py changed, reloading.
INFO 2025-01-01 15:43:26,913 autoreload Watching for file changes with StatReloader
INFO 2025-01-01 15:43:30,947 basehttp "OPTIONS /create-checkout-session/ HTTP/1.1" 200 0
INFO 2025-01-01 15:43:31,462 stripe_views Created reservation: 27
ERROR 2025-01-01 15:43:37,609 stripe_views Failed to schedule cleanup task: Error 61 connecting to localhost:6379. Connection refused.
INFO 2025-01-01 15:43:38,274 basehttp "POST /create-checkout-session/ HTTP/1.1" 200 373
